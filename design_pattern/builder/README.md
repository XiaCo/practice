# 建造者模式

从代码层面来说，建造者核心是一个build接口，不同类各自实现对应的创建流程，最后得到一个结果

如果不需要横向拓展Builder的话，interface接口也是不需要的，[可见k8s_builder.go](./k8s_builder.go)

---

建造者模式的建造过程有点像模版模式，流程中的细节由不同建造者实现

话说回来，工厂模式不也可以通过不同的工厂实现对流程细节的控制吗？

建造者模式在创建层面，其实可以理解为加了一层抽象

Director类可以对流程进行开关、组合；所以相较于工厂模式多了一层创建流程的控制,可能更适合复杂的创建

想到一句话：计算机领域中没有什么问题是增加一层抽象不能解决的

---

这些天刚好在写k8s-CRD，看见构建Controller的方法，它的优点觉得很有启发

它为什么不用New直接构造对象呢？

[这里给出一个模仿它写的代码](./k8s_builder.go)

如果它使用了New，在升级的时候会发生什么？

比如我给产品加一个属性，那么我得修改Product吧，得修改New方法吧，那么原本的k8s-Controller插件代码就没法用了，也得跟着改

如果这样写，就发现，未来我添加修改属性都没关系，只要不删除某个属性，那从前的代码就不需要修改